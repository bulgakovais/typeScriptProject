import { defaultDateOff, defaultDateIn } from '../dates.js';
import { baseURL } from "./index.js";
import { renderSearchResultsBlock } from "../search-results.js";
export const placeArray = [];
export function fetchPlaces(searchFormData) {
    const coordinates = `59.9386,30.3141`;
    const checkIn = new Date(searchFormData.dateIn).getTime() || new Date(defaultDateIn).getTime();
    const checkOut = new Date(searchFormData.dateOut).getTime() || new Date(defaultDateOff).getTime();
    fetch(baseURL + `/places?coordinates=${coordinates}&checkInDate=${checkIn}&checkOutDate=${checkOut}&maxPrice=${searchFormData.maxPrice}`)
        .then(response => response.json())
        .then((data) => {
        data.forEach((dataItem) => {
            placeArray.push(dataItem);
        });
        console.log(placeArray);
        renderSearchResultsBlock(placeArray);
        return placeArray;
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmV0Y2hQbGFjZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvQVBJL2ZldGNoUGxhY2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxjQUFjLEVBQUUsYUFBYSxFQUFFLE1BQU0sYUFBYSxDQUFBO0FBQzNELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxZQUFZLENBQUE7QUFDcEMsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sc0JBQXNCLENBQUE7QUFHL0QsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFZLEVBQUUsQ0FBQTtBQUVyQyxNQUFNLFVBQVUsV0FBVyxDQUFDLGNBQWM7SUFFeEMsTUFBTSxXQUFXLEdBQUcsaUJBQWlCLENBQUE7SUFDckMsTUFBTSxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sRUFBRSxJQUFJLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFBO0lBQzlGLE1BQU0sUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsSUFBSSxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtJQUdqRyxLQUFLLENBQUMsT0FBTyxHQUFHLHVCQUF1QixXQUFXLGdCQUFnQixPQUFPLGlCQUFpQixRQUFRLGFBQWEsY0FBYyxDQUFDLFFBQVEsRUFBRSxDQUFDO1NBQ3RJLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNqQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtRQUNiLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRTtZQUN4QixVQUFVLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQzNCLENBQUMsQ0FBQyxDQUFBO1FBRUYsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUN2Qix3QkFBd0IsQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUNwQyxPQUFPLFVBQVUsQ0FBQTtJQUNuQixDQUFDLENBQUMsQ0FBQTtBQUVOLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IGRlZmF1bHREYXRlT2ZmLCBkZWZhdWx0RGF0ZUluIH0gZnJvbSAnLi4vZGF0ZXMuanMnXG5pbXBvcnQgeyBiYXNlVVJMIH0gZnJvbSBcIi4vaW5kZXguanNcIlxuaW1wb3J0IHsgcmVuZGVyU2VhcmNoUmVzdWx0c0Jsb2NrIH0gZnJvbSBcIi4uL3NlYXJjaC1yZXN1bHRzLmpzXCJcbmltcG9ydCB7IFBsYWNlIH0gZnJvbSAnLi4vaGVscGVycy9pbnRlcmZhY2VzLmpzJ1xuXG5leHBvcnQgY29uc3QgcGxhY2VBcnJheTogUGxhY2VbXSA9IFtdXG5cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaFBsYWNlcyhzZWFyY2hGb3JtRGF0YSkge1xuXG4gIGNvbnN0IGNvb3JkaW5hdGVzID0gYDU5LjkzODYsMzAuMzE0MWBcbiAgY29uc3QgY2hlY2tJbiA9IG5ldyBEYXRlKHNlYXJjaEZvcm1EYXRhLmRhdGVJbikuZ2V0VGltZSgpIHx8IG5ldyBEYXRlKGRlZmF1bHREYXRlSW4pLmdldFRpbWUoKVxuICBjb25zdCBjaGVja091dCA9IG5ldyBEYXRlKHNlYXJjaEZvcm1EYXRhLmRhdGVPdXQpLmdldFRpbWUoKSB8fCBuZXcgRGF0ZShkZWZhdWx0RGF0ZU9mZikuZ2V0VGltZSgpXG5cblxuICBmZXRjaChiYXNlVVJMICsgYC9wbGFjZXM/Y29vcmRpbmF0ZXM9JHtjb29yZGluYXRlc30mY2hlY2tJbkRhdGU9JHtjaGVja0lufSZjaGVja091dERhdGU9JHtjaGVja091dH0mbWF4UHJpY2U9JHtzZWFyY2hGb3JtRGF0YS5tYXhQcmljZX1gKVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgZGF0YS5mb3JFYWNoKChkYXRhSXRlbSkgPT4ge1xuICAgICAgICBwbGFjZUFycmF5LnB1c2goZGF0YUl0ZW0pXG4gICAgICB9KVxuXG4gICAgICBjb25zb2xlLmxvZyhwbGFjZUFycmF5KVxuICAgICAgcmVuZGVyU2VhcmNoUmVzdWx0c0Jsb2NrKHBsYWNlQXJyYXkpXG4gICAgICByZXR1cm4gcGxhY2VBcnJheVxuICAgIH0pXG5cbn1cblxuXG4iXX0=
import { FlatRentSdk } from "../../../flat-rent-sdk.js";
import { Place } from "../../domain/place.js";
const myFlatRentSdk = new FlatRentSdk();
export class SDKProvider {
    async find(filter) {
        const result = myFlatRentSdk.search(filter);
        console.log(`Promise<Place[]>${result}`);
        return result.then((data) => {
            return this.convertPlaceListResponse(data);
        });
    }
    convertPlaceListResponse(response) {
        console.log(response);
        return response.map((item) => {
            return this.convertPlaceResponse(item);
        });
    }
    convertPlaceResponse(item) {
        console.log(item);
        return new Place(SDKProvider.provider, item.id, this.getName(item.title), this.getDescription(item.details), this.getImage(item.photos[0]), this.getPrice(item.totalPrice), item.bookedDates, this.getRemoteness(0));
    }
    getName(name) {
        return name;
    }
    getDescription(description) {
        return description;
    }
    getImage(image) {
        return `http://localhost:3040/img/${image}`;
    }
    getRemoteness(remoteness) {
        return remoteness;
    }
    getPrice(price) {
        if (isNaN(price)) {
            return price = 0;
        }
        return price;
    }
}
SDKProvider.provider = 'SDK';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2RrLXByb3ZpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL3N0b3JlL3Byb3ZpZGVycy9TREsvc2RrLXByb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBZ0IsV0FBVyxFQUFFLE1BQU0sMkJBQTJCLENBQUE7QUFDckUsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLHVCQUF1QixDQUFBO0FBSTdDLE1BQU0sYUFBYSxHQUFHLElBQUksV0FBVyxFQUFFLENBQUE7QUFFdkMsTUFBTSxPQUFPLFdBQVc7SUFJZixLQUFLLENBQUMsSUFBSSxDQUFDLE1BQXNCO1FBQ3RDLE1BQU0sTUFBTSxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUE7UUFDM0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsTUFBTSxFQUFFLENBQUMsQ0FBQTtRQUN4QyxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtZQUMxQixPQUFPLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUM1QyxDQUFDLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFHTyx3QkFBd0IsQ0FBQyxRQUF3QjtRQUN2RCxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQ3JCLE9BQU8sUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBRTNCLE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxDQUFBO1FBQ3hDLENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUVPLG9CQUFvQixDQUFDLElBQWtCO1FBQzdDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDakIsT0FBTyxJQUFJLEtBQUssQ0FDZCxXQUFXLENBQUMsUUFBUSxFQUNwQixJQUFJLENBQUMsRUFBRSxFQUNQLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUN4QixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFDakMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQzdCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUM5QixJQUFJLENBQUMsV0FBVyxFQUNoQixJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUN0QixDQUFBO0lBQ0gsQ0FBQztJQUVPLE9BQU8sQ0FBQyxJQUFZO1FBQzFCLE9BQU8sSUFBSSxDQUFBO0lBQ2IsQ0FBQztJQUNPLGNBQWMsQ0FBQyxXQUFtQjtRQUN4QyxPQUFPLFdBQVcsQ0FBQTtJQUNwQixDQUFDO0lBQ08sUUFBUSxDQUFDLEtBQWE7UUFDNUIsT0FBTyw2QkFBNkIsS0FBSyxFQUFFLENBQUE7SUFDN0MsQ0FBQztJQUNPLGFBQWEsQ0FBQyxVQUFrQjtRQUN0QyxPQUFPLFVBQVUsQ0FBQTtJQUNuQixDQUFDO0lBQ08sUUFBUSxDQUFDLEtBQWE7UUFDNUIsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDaEIsT0FBTyxLQUFLLEdBQUcsQ0FBQyxDQUFBO1NBQ2pCO1FBQ0QsT0FBTyxLQUFLLENBQUE7SUFDZCxDQUFDOztBQWxEYSxvQkFBUSxHQUFHLEtBQUssQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFiYXNlSXRlbSwgRmxhdFJlbnRTZGsgfSBmcm9tIFwiLi4vLi4vLi4vZmxhdC1yZW50LXNkay5qc1wiXG5pbXBvcnQgeyBQbGFjZSB9IGZyb20gXCIuLi8uLi9kb21haW4vcGxhY2UuanNcIlxuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tIFwiLi4vLi4vZG9tYWluL3Byb3ZpZGVyLmpzXCJcbmltcG9ydCB7IFNlYXJjaEZvcm1EYXRhIH0gZnJvbSBcIi4uLy4uL2RvbWFpbi9zZWFyY2gtZmlsdGVyLmpzXCJcblxuY29uc3QgbXlGbGF0UmVudFNkayA9IG5ldyBGbGF0UmVudFNkaygpXG5cbmV4cG9ydCBjbGFzcyBTREtQcm92aWRlciBpbXBsZW1lbnRzIFByb3ZpZGVyIHtcblxuICBwdWJsaWMgc3RhdGljIHByb3ZpZGVyID0gJ1NESydcblxuICBwdWJsaWMgYXN5bmMgZmluZChmaWx0ZXI6IFNlYXJjaEZvcm1EYXRhKTogUHJvbWlzZTxQbGFjZVtdPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gbXlGbGF0UmVudFNkay5zZWFyY2goZmlsdGVyKVxuICAgIGNvbnNvbGUubG9nKGBQcm9taXNlPFBsYWNlW10+JHtyZXN1bHR9YClcbiAgICByZXR1cm4gcmVzdWx0LnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRQbGFjZUxpc3RSZXNwb25zZShkYXRhKVxuICAgIH0pXG4gIH1cblxuXG4gIHByaXZhdGUgY29udmVydFBsYWNlTGlzdFJlc3BvbnNlKHJlc3BvbnNlOiBEYXRhYmFzZUl0ZW1bXSk6IFBsYWNlW10ge1xuICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgIHJldHVybiByZXNwb25zZS5tYXAoKGl0ZW0pID0+IHtcblxuICAgICAgcmV0dXJuIHRoaXMuY29udmVydFBsYWNlUmVzcG9uc2UoaXRlbSlcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBjb252ZXJ0UGxhY2VSZXNwb25zZShpdGVtOiBEYXRhYmFzZUl0ZW0pOiBQbGFjZSB7XG4gICAgY29uc29sZS5sb2coaXRlbSlcbiAgICByZXR1cm4gbmV3IFBsYWNlKFxuICAgICAgU0RLUHJvdmlkZXIucHJvdmlkZXIsXG4gICAgICBpdGVtLmlkLFxuICAgICAgdGhpcy5nZXROYW1lKGl0ZW0udGl0bGUpLFxuICAgICAgdGhpcy5nZXREZXNjcmlwdGlvbihpdGVtLmRldGFpbHMpLFxuICAgICAgdGhpcy5nZXRJbWFnZShpdGVtLnBob3Rvc1swXSksXG4gICAgICB0aGlzLmdldFByaWNlKGl0ZW0udG90YWxQcmljZSksXG4gICAgICBpdGVtLmJvb2tlZERhdGVzLFxuICAgICAgdGhpcy5nZXRSZW1vdGVuZXNzKDApXG4gICAgKVxuICB9XG5cbiAgcHJpdmF0ZSBnZXROYW1lKG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIG5hbWVcbiAgfVxuICBwcml2YXRlIGdldERlc2NyaXB0aW9uKGRlc2NyaXB0aW9uOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gZGVzY3JpcHRpb25cbiAgfVxuICBwcml2YXRlIGdldEltYWdlKGltYWdlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gYGh0dHA6Ly9sb2NhbGhvc3Q6MzA0MC9pbWcvJHtpbWFnZX1gXG4gIH1cbiAgcHJpdmF0ZSBnZXRSZW1vdGVuZXNzKHJlbW90ZW5lc3M6IG51bWJlcikge1xuICAgIHJldHVybiByZW1vdGVuZXNzXG4gIH1cbiAgcHJpdmF0ZSBnZXRQcmljZShwcmljZTogbnVtYmVyKSB7XG4gICAgaWYgKGlzTmFOKHByaWNlKSkge1xuICAgICAgcmV0dXJuIHByaWNlID0gMFxuICAgIH1cbiAgICByZXR1cm4gcHJpY2VcbiAgfVxufVxuIl19
import { FlatRentSdk } from "../../../flat-rent-sdk.js";
import { Place } from "../../domain/place.js";
const myFlatRentSdk = new FlatRentSdk();
export class SDKProvider {
    find(filter) {
        const result = myFlatRentSdk.search(filter);
        console.log(`Promise<Place[]>${result}`);
        return result.then((data) => {
            return this.convertPlaceListResponse(data);
        });
    }
    convertPlaceListResponse(response) {
        console.log(response);
        return response.map((item) => {
            return this.convertPlaceResponse(item);
        });
    }
    convertPlaceResponse(item) {
        console.log(item);
        return new Place(SDKProvider.provider, item.id, this.getName(item.title), this.getDescription(item.details), this.getImage(item.photos[0]), this.getPrice(item.totalPrice), item.bookedDates, this.getRemoteness(0));
    }
    getName(name) {
        return name;
    }
    getDescription(description) {
        return description;
    }
    getImage(image) {
        return `http://localhost:3040/img/${image}`;
    }
    getRemoteness(remoteness) {
        return remoteness;
    }
    getPrice(price) {
        if (isNaN(price)) {
            return price = 0;
        }
        return price;
    }
}
SDKProvider.provider = 'SDK';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2RrLXByb3ZpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL3N0b3JlL3Byb3ZpZGVycy9TREsvc2RrLXByb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBZ0IsV0FBVyxFQUFFLE1BQU0sMkJBQTJCLENBQUE7QUFDckUsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLHVCQUF1QixDQUFBO0FBSTdDLE1BQU0sYUFBYSxHQUFHLElBQUksV0FBVyxFQUFFLENBQUE7QUFFdkMsTUFBTSxPQUFPLFdBQVc7SUFJZixJQUFJLENBQUMsTUFBc0I7UUFDaEMsTUFBTSxNQUFNLEdBQUcsYUFBYSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUMzQyxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQixNQUFNLEVBQUUsQ0FBQyxDQUFBO1FBQ3hDLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQzFCLE9BQU8sSUFBSSxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxDQUFBO1FBQzVDLENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUdPLHdCQUF3QixDQUFDLFFBQXdCO1FBQ3ZELE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUE7UUFDckIsT0FBTyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFFM0IsT0FBTyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDeEMsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDO0lBRU8sb0JBQW9CLENBQUMsSUFBa0I7UUFDN0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNqQixPQUFPLElBQUksS0FBSyxDQUNkLFdBQVcsQ0FBQyxRQUFRLEVBQ3BCLElBQUksQ0FBQyxFQUFFLEVBQ1AsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQ3hCLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUNqQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDN0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQzlCLElBQUksQ0FBQyxXQUFXLEVBQ2hCLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQ3RCLENBQUE7SUFDSCxDQUFDO0lBRU8sT0FBTyxDQUFDLElBQVk7UUFDMUIsT0FBTyxJQUFJLENBQUE7SUFDYixDQUFDO0lBQ08sY0FBYyxDQUFDLFdBQW1CO1FBQ3hDLE9BQU8sV0FBVyxDQUFBO0lBQ3BCLENBQUM7SUFDTyxRQUFRLENBQUMsS0FBYTtRQUM1QixPQUFPLDZCQUE2QixLQUFLLEVBQUUsQ0FBQTtJQUM3QyxDQUFDO0lBQ08sYUFBYSxDQUFDLFVBQWtCO1FBQ3RDLE9BQU8sVUFBVSxDQUFBO0lBQ25CLENBQUM7SUFDTyxRQUFRLENBQUMsS0FBYTtRQUM1QixJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNoQixPQUFPLEtBQUssR0FBRyxDQUFDLENBQUE7U0FDakI7UUFDRCxPQUFPLEtBQUssQ0FBQTtJQUNkLENBQUM7O0FBbERhLG9CQUFRLEdBQUcsS0FBSyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0YWJhc2VJdGVtLCBGbGF0UmVudFNkayB9IGZyb20gXCIuLi8uLi8uLi9mbGF0LXJlbnQtc2RrLmpzXCJcbmltcG9ydCB7IFBsYWNlIH0gZnJvbSBcIi4uLy4uL2RvbWFpbi9wbGFjZS5qc1wiXG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCIuLi8uLi9kb21haW4vcHJvdmlkZXIuanNcIlxuaW1wb3J0IHsgU2VhcmNoRm9ybURhdGEgfSBmcm9tIFwiLi4vLi4vZG9tYWluL3NlYXJjaC1maWx0ZXIuanNcIlxuXG5jb25zdCBteUZsYXRSZW50U2RrID0gbmV3IEZsYXRSZW50U2RrKClcblxuZXhwb3J0IGNsYXNzIFNES1Byb3ZpZGVyIGltcGxlbWVudHMgUHJvdmlkZXIge1xuXG4gIHB1YmxpYyBzdGF0aWMgcHJvdmlkZXIgPSAnU0RLJ1xuXG4gIHB1YmxpYyBmaW5kKGZpbHRlcjogU2VhcmNoRm9ybURhdGEpOiBQcm9taXNlPFBsYWNlW10+IHtcbiAgICBjb25zdCByZXN1bHQgPSBteUZsYXRSZW50U2RrLnNlYXJjaChmaWx0ZXIpXG4gICAgY29uc29sZS5sb2coYFByb21pc2U8UGxhY2VbXT4ke3Jlc3VsdH1gKVxuICAgIHJldHVybiByZXN1bHQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuY29udmVydFBsYWNlTGlzdFJlc3BvbnNlKGRhdGEpXG4gICAgfSlcbiAgfVxuXG5cbiAgcHJpdmF0ZSBjb252ZXJ0UGxhY2VMaXN0UmVzcG9uc2UocmVzcG9uc2U6IERhdGFiYXNlSXRlbVtdKTogUGxhY2VbXSB7XG4gICAgY29uc29sZS5sb2cocmVzcG9uc2UpXG4gICAgcmV0dXJuIHJlc3BvbnNlLm1hcCgoaXRlbSkgPT4ge1xuXG4gICAgICByZXR1cm4gdGhpcy5jb252ZXJ0UGxhY2VSZXNwb25zZShpdGVtKVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIGNvbnZlcnRQbGFjZVJlc3BvbnNlKGl0ZW06IERhdGFiYXNlSXRlbSk6IFBsYWNlIHtcbiAgICBjb25zb2xlLmxvZyhpdGVtKVxuICAgIHJldHVybiBuZXcgUGxhY2UoXG4gICAgICBTREtQcm92aWRlci5wcm92aWRlcixcbiAgICAgIGl0ZW0uaWQsXG4gICAgICB0aGlzLmdldE5hbWUoaXRlbS50aXRsZSksXG4gICAgICB0aGlzLmdldERlc2NyaXB0aW9uKGl0ZW0uZGV0YWlscyksXG4gICAgICB0aGlzLmdldEltYWdlKGl0ZW0ucGhvdG9zWzBdKSxcbiAgICAgIHRoaXMuZ2V0UHJpY2UoaXRlbS50b3RhbFByaWNlKSxcbiAgICAgIGl0ZW0uYm9va2VkRGF0ZXMsXG4gICAgICB0aGlzLmdldFJlbW90ZW5lc3MoMClcbiAgICApXG4gIH1cblxuICBwcml2YXRlIGdldE5hbWUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gbmFtZVxuICB9XG4gIHByaXZhdGUgZ2V0RGVzY3JpcHRpb24oZGVzY3JpcHRpb246IHN0cmluZykge1xuICAgIHJldHVybiBkZXNjcmlwdGlvblxuICB9XG4gIHByaXZhdGUgZ2V0SW1hZ2UoaW1hZ2U6IHN0cmluZykge1xuICAgIHJldHVybiBgaHR0cDovL2xvY2FsaG9zdDozMDQwL2ltZy8ke2ltYWdlfWBcbiAgfVxuICBwcml2YXRlIGdldFJlbW90ZW5lc3MocmVtb3RlbmVzczogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHJlbW90ZW5lc3NcbiAgfVxuICBwcml2YXRlIGdldFByaWNlKHByaWNlOiBudW1iZXIpIHtcbiAgICBpZiAoaXNOYU4ocHJpY2UpKSB7XG4gICAgICByZXR1cm4gcHJpY2UgPSAwXG4gICAgfVxuICAgIHJldHVybiBwcmljZVxuICB9XG59XG4iXX0=
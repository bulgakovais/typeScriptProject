import { getFavoritePlacesFromLocalStorage } from "./getFavoritePlacesFromLocalStorage";
export function favoritesHandlerClick(event) {
    let targetHeart = event.target;
    if (targetHeart.tagName != 'DIV')
        return;
    toggleFavoriteItem(targetHeart);
}
function toggleFavoriteItem(listItem) {
    let favoritePlaces = getFavoritePlacesFromLocalStorage();
    if (listItem.classList.contains('active')) {
        listItem.classList.remove('active');
        if (Array.isArray(favoritePlaces)) {
            const updatedFavorites = favoritePlaces.filter((f) => f.id !== listItem.id);
            localStorage.setItem('favoriteItems', JSON.stringify(updatedFavorites));
        }
    }
    else {
        listItem.classList.add('active');
        const data = { id: listItem.id, name: listItem.name, image: listItem.image };
        if (Array.isArray(favoritePlaces)) {
            const allData = JSON.stringify([...favoritePlaces, data]);
            localStorage.setItem('favoriteItems', allData);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmF2b3JpdGVzSGFuZGxlckNsaWNrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2hlbHBlcnMvZmF2b3JpdGVzSGFuZGxlckNsaWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxpQ0FBaUMsRUFBRSxNQUFNLHFDQUFxQyxDQUFBO0FBRXZGLE1BQU0sVUFBVSxxQkFBcUIsQ0FBQyxLQUFLO0lBQ3pDLElBQUksV0FBVyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUE7SUFDOUIsSUFBSSxXQUFXLENBQUMsT0FBTyxJQUFJLEtBQUs7UUFBRSxPQUFNO0lBQ3hDLGtCQUFrQixDQUFDLFdBQVcsQ0FBQyxDQUFBO0FBQ2pDLENBQUM7QUFHRCxTQUFTLGtCQUFrQixDQUFDLFFBQVE7SUFDbEMsSUFBSSxjQUFjLEdBQUcsaUNBQWlDLEVBQUUsQ0FBQTtJQUN4RCxJQUFJLFFBQVEsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1FBQ3pDLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQ25DLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsRUFBRTtZQUNqQyxNQUFNLGdCQUFnQixHQUEwQixjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQTtZQUNsRyxZQUFZLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQTtTQUN4RTtLQUNGO1NBQ0k7UUFDSCxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQTtRQUNoQyxNQUFNLElBQUksR0FBRyxFQUFFLEVBQUUsRUFBRSxRQUFRLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxRQUFRLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUE7UUFDNUUsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxFQUFFO1lBQ2pDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFBO1lBQ3pELFlBQVksQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFFLE9BQU8sQ0FBQyxDQUFBO1NBQy9DO0tBQ0Y7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RmF2b3JpdGVQbGFjZXNGcm9tTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4vZ2V0RmF2b3JpdGVQbGFjZXNGcm9tTG9jYWxTdG9yYWdlXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGZhdm9yaXRlc0hhbmRsZXJDbGljayhldmVudCkge1xuICBsZXQgdGFyZ2V0SGVhcnQgPSBldmVudC50YXJnZXRcbiAgaWYgKHRhcmdldEhlYXJ0LnRhZ05hbWUgIT0gJ0RJVicpIHJldHVyblxuICB0b2dnbGVGYXZvcml0ZUl0ZW0odGFyZ2V0SGVhcnQpXG59XG5cblxuZnVuY3Rpb24gdG9nZ2xlRmF2b3JpdGVJdGVtKGxpc3RJdGVtKSB7XG4gIGxldCBmYXZvcml0ZVBsYWNlcyA9IGdldEZhdm9yaXRlUGxhY2VzRnJvbUxvY2FsU3RvcmFnZSgpXG4gIGlmIChsaXN0SXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgbGlzdEl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmYXZvcml0ZVBsYWNlcykpIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRGYXZvcml0ZXM6IEFycmF5PHsgaWQ6IHN0cmluZyB9PiA9IGZhdm9yaXRlUGxhY2VzLmZpbHRlcigoZikgPT4gZi5pZCAhPT0gbGlzdEl0ZW0uaWQpXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZmF2b3JpdGVJdGVtcycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRGYXZvcml0ZXMpKVxuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBsaXN0SXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgIGNvbnN0IGRhdGEgPSB7IGlkOiBsaXN0SXRlbS5pZCwgbmFtZTogbGlzdEl0ZW0ubmFtZSwgaW1hZ2U6IGxpc3RJdGVtLmltYWdlIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShmYXZvcml0ZVBsYWNlcykpIHtcbiAgICAgIGNvbnN0IGFsbERhdGEgPSBKU09OLnN0cmluZ2lmeShbLi4uZmF2b3JpdGVQbGFjZXMsIGRhdGFdKVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Zhdm9yaXRlSXRlbXMnLCBhbGxEYXRhKVxuICAgIH1cbiAgfVxufVxuIl19